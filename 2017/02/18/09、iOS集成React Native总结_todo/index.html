<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> iOS集成React Native总结 · wanzhaoyang</title><meta name="description" content="iOS集成React Native总结 - wanzhaoyang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="wanzhaoyang"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/young0713" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">iOS集成React Native总结</h1><div class="post-info">Feb 18, 2017</div><div class="post-content"><p>##一、安装及依赖项<br>1、安装Homebrew，用于安装Node.js<br><code>/usr/bin/ruby -e &quot;$(curl -fsSL</code> <a href="https://raw.githubusercontent.com/Homebrew/install/master/install" target="_blank" rel="external">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)”<br>2、安装Node.js</p>
<pre><code>brew install node
</code></pre><p>3、创建RN工程</p>
<pre><code>react-native init AwesomeProject
cd AwesomeProject
react-native run-ios
</code></pre><p>##二、能力<br>1、无需编译，只需要更新一下云端js代码，reload一下即可<br>2、Native组件标签化，布局代码采用JSX<br>3、Debug方便，修改了js以后，通过内建的node.js watcher编译成bundle，在模拟器里面按cmd+r就可以看到效果，大大提高开发效率<br>4、RN模块支持与原生模块互相调用，扩展性好<br>5、支持嵌入到现有APP中，混合开发 <a href="http://reactnative.cn/docs/0.45/integration-with-existing-apps.html#content" target="_blank" rel="external">http://reactnative.cn/docs/0.45/integration-with-existing-apps.html#content</a><br>6、发布时，所有JS打包到本地，默认支持离线<br>7、支持使用drawable／assets图片，网络图片需要指明明确的显示大小</p>
<p>##三、开发应具备知识<br>ES6<br>react<br>JSX<br>components【App的最终界面，也是各种各样的组件的组合】<br>state与props：props在父组件中指定，一经指定，在被指定的组件的生命周期中则不再改变。对于需要改变的数据，需要使用state<br>Flexbox布局</p>
<p>##四、RN动态更新（目前国内外有第三方服务，自己也能做）<br>js文件打包到jsBundle内<br>app检测是否有新版本的jsbundle，如果有则进行下载，保存到document<br>用户每次打开app都可以读取最新的bundle</p>
<p>##五、现在存在哪些问题<br>1、依赖于原声组件暴露出来的组件和方法，例如scrollView，在Native层是有大量事件的，scrollViewWillBeginDragging， scrollViewWillEndDragging，scrollViewDidEndDragging等等，这些事件在现有的版本都没有暴露，基本上做不了组件联动效果。<br>2、很多组件都是iOS only。DatePickerIOS、NavigatorIOS、PickerIOS、ProgressViewIOS、SegmentedControlIOS、TabBarIOS、TabBarIOS.Item、AlertIOS、ImagePickerIOS。很多情况下需要在不同平台写两套代码，不过最基本的核心控件都包括了<br>3、RN 自带的 ListView 是没有使用 Recycling 的，这样就使得 RN 无法使用大数据的长列表。如果你的 App 中使用无限加载或者多个较多数据的列表。那么你的 App 就会非常吃内存，卡死、甚至使得 App 闪退。第三方解决方案不完美解决该问题（FlatList组件：优化内存保持滑动流畅，列表在屏幕外异步绘制，因此存在问题是当滑动速度超过渲染速度时，先看到空白内容，设置initialNumToRender，初始绘制的元素数量）</p>
<p>##六、后续前景<br>1、Facebook造的轮子，而且现在在多个app（Instagram、Facebook）都在应用<br>2、受限于Apple store审核政策。目前有热更新方案，苹果目前的政策明确允许基于javascriptCore的热更新，但后续政策也可能改变。</p>
<p>##七、相关学习资料<br><a href="http://reactnative.cn/docs/0.45/getting-started.html#content" target="_blank" rel="external">1、中文官方教程，简单入门的教程，门槛比较低，上面的demo也比较简单</a><br><a href="https://github.com/crazycodeboy/RNStudyNotes" target="_blank" rel="external">2、React Native 研究与实践，结合实际开发经验，有相关教学视频，有demo，GitHub上star 1300+。包含构建官方example教程</a><br><a href="https://github.com/jondot/awesome-react-native" target="_blank" rel="external">3、React Native英文学习资料整理，内容较多较全，GitHub上star 13000+，学习曲线稍微有点陡</a><br><a href="http://bbs.reactnative.cn/topic/130/%E6%96%B0%E6%89%8B%E6%8F%90%E9%97%AE%E5%89%8D%E5%85%88%E6%9D%A5%E8%BF%99%E9%87%8C%E7%9C%8B%E7%9C%8B-react-native%E7%9A%84%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" target="_blank" rel="external">4、RN常见问题汇总</a><br><a href="https://github.com/reactnativecn/react-native-guide" target="_blank" rel="external">5、非常全，涉及到教程、非常多开源app等一系列内容</a><br><a href="http://www.ruanyifeng.com/blog/archives.html" target="_blank" rel="external">6、阮一峰的全栈教程</a><br><a href="https://segmentfault.com/a/1190000002678782" target="_blank" rel="external">7、RN分享</a><br><a href="http://www.infoq.com/cn/articles/jd-618-ReactNative-jingdong-practise?utm_campaign=rightbar_v2&amp;utm_source=infoq&amp;utm_medium=articles_link&amp;utm_content=link_text" target="_blank" rel="external">8、京东实践</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzI1MTA1MzM2Nw==&amp;mid=401483604&amp;idx=1&amp;sn=399cdf7e13fe6125108de1bfd045f2cf&amp;scene=1&amp;srcid=0228wE75TF9Zqzny7mt7ZS3J&amp;key=710a5d99946419d9b9d0a316ddb898594e9089b1b29a8759cca5ff2407c204f72876180e08fd6c60d3816da7e4c39053&amp;ascene=0&amp;uin=Mjc3OTU3Nzk1&amp;devicetype=iMac%20MacBookPro10,1%20OSX%20OSX%2010.10.5%20build%2814F27%29&amp;version=11020201&amp;pass_ticket=m2YLRqjCZ5S4CHXKqIpGbkf59t1oYvRDZ6krGXEuDfWlQcoVj1p2g8gzHOEYrM9U" target="_blank" rel="external">9、ReactNative For Android 项目实战总结</a><br><a href="http://www.cnblogs.com/maomishen/p/5303976.html" target="_blank" rel="external">10、RN初步搭建及Bundle发布问题</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/03/04/10、音视频相关学习指南_todo/" class="prev">PREV</a><a href="/2017/02/08/08、cocoapods使用相关技巧_todo/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">wanzhaoyang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>